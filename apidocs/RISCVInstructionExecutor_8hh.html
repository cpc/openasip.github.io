<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenASIP: RISCVInstructionExecutor.hh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">OpenASIP<span id="projectnumber">&#160;2.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_0af1587c8378955de40f48b4bd1869f0.html">base</a></li><li class="navelem"><a class="el" href="dir_169e349b11e845b7303ba3a5c96776f7.html">osal</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">RISCVInstructionExecutor.hh File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for RISCVInstructionExecutor.hh:</div>
<div class="dyncontent">
<div class="center"><img src="RISCVInstructionExecutor_8hh__incl.gif" border="0" usemap="#aRISCVInstructionExecutor_8hh" alt=""/></div>
<map name="aRISCVInstructionExecutor_8hh" id="aRISCVInstructionExecutor_8hh">
<area shape="rect" title=" " alt="" coords="5,5,211,31"/>
<area shape="rect" title=" " alt="" coords="73,79,143,104"/>
<area shape="poly" title=" " alt="" coords="111,31,111,65,105,65,105,31"/>
</map>
</div>
</div>
<p><a href="RISCVInstructionExecutor_8hh_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a29ed54b3b13d35ba4ef639e4491670d7" id="r_a29ed54b3b13d35ba4ef639e4491670d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RISCVInstructionExecutor_8hh.html#a29ed54b3b13d35ba4ef639e4491670d7">initializeMachine</a> (const char *machinePath, char **error)</td></tr>
<tr class="separator:a29ed54b3b13d35ba4ef639e4491670d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c675938ad593327b8f75b762841f660" id="r_a8c675938ad593327b8f75b762841f660"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RISCVInstructionExecutor_8hh.html#a8c675938ad593327b8f75b762841f660">resetMachine</a> ()</td></tr>
<tr class="separator:a8c675938ad593327b8f75b762841f660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d0a4395ea7b5ff1e96320c43827743" id="r_ac0d0a4395ea7b5ff1e96320c43827743"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RISCVInstructionExecutor_8hh.html#ac0d0a4395ea7b5ff1e96320c43827743">unpackInstruction</a> (uint32_t instruction, char **output, char **error)</td></tr>
<tr class="separator:ac0d0a4395ea7b5ff1e96320c43827743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ec4bdd3cb874968cabf80cbc3303aa" id="r_a00ec4bdd3cb874968cabf80cbc3303aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RISCVInstructionExecutor_8hh.html#a00ec4bdd3cb874968cabf80cbc3303aa">executeInstruction32</a> (const char *opName, const uint32_t *inputs, uint32_t inputsCount, uint32_t *output, char **error)</td></tr>
<tr class="separator:a00ec4bdd3cb874968cabf80cbc3303aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3c4c22e02c599b6d70ec0daa8218d6" id="r_a7b3c4c22e02c599b6d70ec0daa8218d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RISCVInstructionExecutor_8hh.html#a7b3c4c22e02c599b6d70ec0daa8218d6">executeInstruction64</a> (const char *opName, const uint64_t *inputs, uint32_t inputsCount, uint64_t *output, char **error)</td></tr>
<tr class="separator:a7b3c4c22e02c599b6d70ec0daa8218d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Declaration of <a class="el" href="namespaceRISCVInstructionExecutor.html">RISCVInstructionExecutor</a> class.</p>
<dl class="section author"><dt>Author</dt><dd>Eetu Soronen 2025 (<a href="#" onclick="location.href='mai'+'lto:'+'eet'+'u.'+'sor'+'on'+'en@'+'tu'+'ni.'+'fi'; return false;">eetu.<span class="obfuscator">.nosp@m.</span>soro<span class="obfuscator">.nosp@m.</span>nen@t<span class="obfuscator">.nosp@m.</span>uni.<span class="obfuscator">.nosp@m.</span>fi</a>) </dd></dl>
<dl class="section note"><dt>Note</dt><dd>rating: red </dd></dl>

<p class="definition">Definition in file <a class="el" href="RISCVInstructionExecutor_8hh_source.html">RISCVInstructionExecutor.hh</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a00ec4bdd3cb874968cabf80cbc3303aa" name="a00ec4bdd3cb874968cabf80cbc3303aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00ec4bdd3cb874968cabf80cbc3303aa">&#9670;&#160;</a></span>executeInstruction32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int executeInstruction32 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>opName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inputsCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Executes a custom 32-wide instruction.</p>
<p>The instruction behavior is searched automatically by <a class="el" href="classOperationPool.html">OperationPool</a> from the OSAL search paths. See chapter 4.4 in the manual.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opName</td><td>The operation name as it is in the machine file. </td></tr>
    <tr><td class="paramname">inputs</td><td>Input value(s) of the operation. Can contain more values than the operation needs, in that case only the first values will be used. </td></tr>
    <tr><td class="paramname">inputsCount</td><td>number of inputs </td></tr>
    <tr><td class="paramname">output</td><td>The result of the operation. </td></tr>
    <tr><td class="paramname">error</td><td>Will not be touched in case of success. Must be freed by the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00286">286</a> of file <a class="el" href="RISCVInstructionExecutor_8cc_source.html">RISCVInstructionExecutor.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  288</span>                                    {</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">if</span> (output == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">if</span> (error != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  291</span>            *error = strdup(</div>
<div class="line"><span class="lineno">  292</span>                <span class="stringliteral">&quot;ExecuteInstruction32 error: Output parameter is null&quot;</span>);</div>
<div class="line"><span class="lineno">  293</span>        }</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  295</span>    }</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  298</span>        std::vector&lt;uint64_t&gt; inputs64(inputsCount);</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; inputsCount; i++) {</div>
<div class="line"><span class="lineno">  300</span>            inputs64[i] = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(inputs[i]);</div>
<div class="line"><span class="lineno">  301</span>        }</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>        std::vector&lt;SimValue&gt; results =</div>
<div class="line"><span class="lineno">  304</span>            <a class="code hl_function" href="namespaceRISCVInstructionExecutor.html#aa0f18269dffe168d924eda9529355b3b">RISCVInstructionExecutor::executeInstructionHelper</a>(</div>
<div class="line"><span class="lineno">  305</span>                opName, 32, inputs64.data(), inputsCount);</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; results.size(); i++) {</div>
<div class="line"><span class="lineno">  307</span>            output[i] = results.at(i).uIntWordValue();</div>
<div class="line"><span class="lineno">  308</span>        }</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  310</span>    } <span class="keywordflow">catch</span> (<a class="code hl_class" href="classException.html">Exception</a>&amp; e) {</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">if</span> (error != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  312</span>            *error = strdup(e.<a class="code hl_function" href="classException.html#acacd9a35b999ba1d9c3e1342a580d6a6">errorMessage</a>().c_str());</div>
<div class="line"><span class="lineno">  313</span>        }</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  315</span>    }</div>
<div class="line"><span class="lineno">  316</span>}</div>
<div class="ttc" id="aclassException_html"><div class="ttname"><a href="classException.html">Exception</a></div><div class="ttdef"><b>Definition</b> <a href="Exception_8hh_source.html#l00054">Exception.hh:54</a></div></div>
<div class="ttc" id="aclassException_html_acacd9a35b999ba1d9c3e1342a580d6a6"><div class="ttname"><a href="classException.html#acacd9a35b999ba1d9c3e1342a580d6a6">Exception::errorMessage</a></div><div class="ttdeci">std::string errorMessage() const</div><div class="ttdef"><b>Definition</b> <a href="Exception_8cc_source.html#l00123">Exception.cc:123</a></div></div>
<div class="ttc" id="anamespaceRISCVInstructionExecutor_html_aa0f18269dffe168d924eda9529355b3b"><div class="ttname"><a href="namespaceRISCVInstructionExecutor.html#aa0f18269dffe168d924eda9529355b3b">RISCVInstructionExecutor::executeInstructionHelper</a></div><div class="ttdeci">std::vector&lt; SimValue &gt; executeInstructionHelper(const char *opName, uint8_t width, const uint64_t *inputs, int inputsCount)</div><div class="ttdef"><b>Definition</b> <a href="RISCVInstructionExecutor_8cc_source.html#l00061">RISCVInstructionExecutor.cc:61</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Exception_8cc_source.html#l00123">Exception::errorMessage()</a>, and <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00061">RISCVInstructionExecutor::executeInstructionHelper()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="RISCVInstructionExecutor_8hh_a00ec4bdd3cb874968cabf80cbc3303aa_cgraph.gif" border="0" usemap="#aRISCVInstructionExecutor_8hh_a00ec4bdd3cb874968cabf80cbc3303aa_cgraph" alt=""/></div>
<map name="aRISCVInstructionExecutor_8hh_a00ec4bdd3cb874968cabf80cbc3303aa_cgraph" id="aRISCVInstructionExecutor_8hh_a00ec4bdd3cb874968cabf80cbc3303aa_cgraph">
<area shape="rect" title=" " alt="" coords="5,185,164,211"/>
<area shape="rect" href="classException.html#acacd9a35b999ba1d9c3e1342a580d6a6" title=" " alt="" coords="217,156,400,181"/>
<area shape="poly" title=" " alt="" coords="164,185,203,180,204,185,164,190"/>
<area shape="rect" href="namespaceRISCVInstructionExecutor.html#aa0f18269dffe168d924eda9529355b3b" title=" " alt="" coords="212,206,405,246"/>
<area shape="poly" title=" " alt="" coords="164,205,199,210,198,215,164,211"/>
<area shape="rect" href="classOperation.html#a4b6a90355e43ebeea772ff40df9a7cb0" title=" " alt="" coords="483,5,634,31"/>
<area shape="poly" title=" " alt="" coords="387,204,403,191,417,173,424,154,426,117,429,79,436,60,452,41,469,29,472,34,455,45,441,63,434,80,431,117,429,155,422,175,407,195,390,208"/>
<area shape="rect" href="classOperationBehavior.html#a0fe6084bcedb1e31ebb64db4cff71e04" title=" " alt="" coords="483,55,635,95"/>
<area shape="poly" title=" " alt="" coords="383,204,404,191,420,170,427,149,434,127,452,105,468,94,471,99,455,109,439,130,432,151,424,173,407,195,386,208"/>
<area shape="rect" href="classOperationBehavior.html#a6a287830fa2f72a4b2200a536f57d2cb" title=" " alt="" coords="483,119,635,159"/>
<area shape="poly" title=" " alt="" coords="369,203,404,190,452,169,474,161,476,166,454,174,406,195,371,208"/>
<area shape="rect" href="classNullOperation.html#aab6bfc439103ade6b45517161c5edeae" title=" " alt="" coords="471,184,646,209"/>
<area shape="poly" title=" " alt="" coords="405,212,457,206,458,211,406,217"/>
<area shape="rect" href="classNullOperationBehavior.html#a344a050bb3a04f6330f920ae7037c93f" title=" " alt="" coords="473,234,644,274"/>
<area shape="poly" title=" " alt="" coords="406,234,460,240,459,246,405,239"/>
<area shape="rect" href="classOperation.html#a8e0ccec099db040be790f213f56438f1" title=" " alt="" coords="459,299,658,324"/>
<area shape="poly" title=" " alt="" coords="354,244,454,283,486,293,484,298,452,289,352,249"/>
<area shape="rect" href="classOperation.html#ade01e3f185fb3da290e6b8cf59b1c97d" title=" " alt="" coords="453,348,664,373"/>
<area shape="poly" title=" " alt="" coords="332,244,385,289,419,313,454,333,475,341,473,346,452,338,416,317,382,293,329,248"/>
<area shape="rect" href="classOperationBehavior.html#a1295cc12676b918499bbbcc31c179fa7" title=" " alt="" coords="483,398,635,438"/>
<area shape="poly" title=" " alt="" coords="325,245,377,312,413,350,455,382,471,392,469,396,452,387,410,354,373,316,321,248"/>
</map>
</div>

</div>
</div>
<a id="a7b3c4c22e02c599b6d70ec0daa8218d6" name="a7b3c4c22e02c599b6d70ec0daa8218d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b3c4c22e02c599b6d70ec0daa8218d6">&#9670;&#160;</a></span>executeInstruction64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int executeInstruction64 </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>opName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint64_t *&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>inputsCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Executes a custom 64-wide instruction.</p>
<p>The instruction behavior is searched automatically by <a class="el" href="classOperationPool.html">OperationPool</a> from the OSAL search paths. See chapter 4.4 in the manual.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opName</td><td>The operation name as it is in the machine file. </td></tr>
    <tr><td class="paramname">inputs</td><td>Input value(s) of the operation. Can contain more values than the operation needs, in that case only the first values will be used. </td></tr>
    <tr><td class="paramname">inputsCount</td><td>number of inputs </td></tr>
    <tr><td class="paramname">output</td><td>The result of the operation. </td></tr>
    <tr><td class="paramname">error</td><td>Will not be touched in case of success. Must be freed by the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00335">335</a> of file <a class="el" href="RISCVInstructionExecutor_8cc_source.html">RISCVInstructionExecutor.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  337</span>                                    {</div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">if</span> (output == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">if</span> (error != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  340</span>            *error = strdup(</div>
<div class="line"><span class="lineno">  341</span>                <span class="stringliteral">&quot;ExecuteInstruction64 error: Output parameter is null&quot;</span>);</div>
<div class="line"><span class="lineno">  342</span>        }</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  344</span>    }</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  347</span>        std::vector&lt;SimValue&gt; results =</div>
<div class="line"><span class="lineno">  348</span>            <a class="code hl_function" href="namespaceRISCVInstructionExecutor.html#aa0f18269dffe168d924eda9529355b3b">RISCVInstructionExecutor::executeInstructionHelper</a>(</div>
<div class="line"><span class="lineno">  349</span>                opName, 64, inputs, inputsCount);</div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; results.size(); i++) {</div>
<div class="line"><span class="lineno">  351</span>            output[i] = results.at(i).uLongWordValue();</div>
<div class="line"><span class="lineno">  352</span>        }</div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  354</span>    } <span class="keywordflow">catch</span> (<a class="code hl_class" href="classException.html">Exception</a>&amp; e) {</div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">if</span> (error != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  356</span>            *error = strdup(e.<a class="code hl_function" href="classException.html#acacd9a35b999ba1d9c3e1342a580d6a6">errorMessage</a>().c_str());</div>
<div class="line"><span class="lineno">  357</span>        }</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  359</span>    }</div>
<div class="line"><span class="lineno">  360</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Exception_8cc_source.html#l00123">Exception::errorMessage()</a>, and <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00061">RISCVInstructionExecutor::executeInstructionHelper()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="RISCVInstructionExecutor_8hh_a7b3c4c22e02c599b6d70ec0daa8218d6_cgraph.gif" border="0" usemap="#aRISCVInstructionExecutor_8hh_a7b3c4c22e02c599b6d70ec0daa8218d6_cgraph" alt=""/></div>
<map name="aRISCVInstructionExecutor_8hh_a7b3c4c22e02c599b6d70ec0daa8218d6_cgraph" id="aRISCVInstructionExecutor_8hh_a7b3c4c22e02c599b6d70ec0daa8218d6_cgraph">
<area shape="rect" title=" " alt="" coords="5,185,164,211"/>
<area shape="rect" href="classException.html#acacd9a35b999ba1d9c3e1342a580d6a6" title=" " alt="" coords="217,156,400,181"/>
<area shape="poly" title=" " alt="" coords="164,185,203,180,204,185,164,190"/>
<area shape="rect" href="namespaceRISCVInstructionExecutor.html#aa0f18269dffe168d924eda9529355b3b" title=" " alt="" coords="212,206,405,246"/>
<area shape="poly" title=" " alt="" coords="164,205,199,210,198,215,164,211"/>
<area shape="rect" href="classOperation.html#a4b6a90355e43ebeea772ff40df9a7cb0" title=" " alt="" coords="483,5,634,31"/>
<area shape="poly" title=" " alt="" coords="387,204,403,191,417,173,424,154,426,117,429,79,436,60,452,41,469,29,472,34,455,45,441,63,434,80,431,117,429,155,422,175,407,195,390,208"/>
<area shape="rect" href="classOperationBehavior.html#a0fe6084bcedb1e31ebb64db4cff71e04" title=" " alt="" coords="483,55,635,95"/>
<area shape="poly" title=" " alt="" coords="383,204,404,191,420,170,427,149,434,127,452,105,468,94,471,99,455,109,439,130,432,151,424,173,407,195,386,208"/>
<area shape="rect" href="classOperationBehavior.html#a6a287830fa2f72a4b2200a536f57d2cb" title=" " alt="" coords="483,119,635,159"/>
<area shape="poly" title=" " alt="" coords="369,203,404,190,452,169,474,161,476,166,454,174,406,195,371,208"/>
<area shape="rect" href="classNullOperation.html#aab6bfc439103ade6b45517161c5edeae" title=" " alt="" coords="471,184,646,209"/>
<area shape="poly" title=" " alt="" coords="405,212,457,206,458,211,406,217"/>
<area shape="rect" href="classNullOperationBehavior.html#a344a050bb3a04f6330f920ae7037c93f" title=" " alt="" coords="473,234,644,274"/>
<area shape="poly" title=" " alt="" coords="406,234,460,240,459,246,405,239"/>
<area shape="rect" href="classOperation.html#a8e0ccec099db040be790f213f56438f1" title=" " alt="" coords="459,299,658,324"/>
<area shape="poly" title=" " alt="" coords="354,244,454,283,486,293,484,298,452,289,352,249"/>
<area shape="rect" href="classOperation.html#ade01e3f185fb3da290e6b8cf59b1c97d" title=" " alt="" coords="453,348,664,373"/>
<area shape="poly" title=" " alt="" coords="332,244,385,289,419,313,454,333,475,341,473,346,452,338,416,317,382,293,329,248"/>
<area shape="rect" href="classOperationBehavior.html#a1295cc12676b918499bbbcc31c179fa7" title=" " alt="" coords="483,398,635,438"/>
<area shape="poly" title=" " alt="" coords="325,245,377,312,413,350,455,382,471,392,469,396,452,387,410,354,373,316,321,248"/>
</map>
</div>

</div>
</div>
<a id="a29ed54b3b13d35ba4ef639e4491670d7" name="a29ed54b3b13d35ba4ef639e4491670d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29ed54b3b13d35ba4ef639e4491670d7">&#9670;&#160;</a></span>initializeMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initializeMachine </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>machinePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the OpenASIP Machine.</p>
<p>Should be called before other functions. Creates the &lt;instruction name, opcode&gt; map for the custom operations, and the <a class="el" href="classOperationPool.html">OperationPool</a> instruction cache object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">machinePath</td><td>path to the .adf machine file. </td></tr>
    <tr><td class="paramname">error</td><td>error messages in case of failure. Can also be a nullptr if desired. Must be freed by the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00147">147</a> of file <a class="el" href="RISCVInstructionExecutor_8cc_source.html">RISCVInstructionExecutor.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span>                                                         {</div>
<div class="line"><span class="lineno">  148</span>    std::unique_ptr&lt;TTAMachine::Machine&gt; <a class="code hl_variable" href="EstimatorCmdLineUI_8cc.html#a619b5613ede9a926a1bda52d111c8a83">machine</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  151</span>        <a class="code hl_variable" href="EstimatorCmdLineUI_8cc.html#a619b5613ede9a926a1bda52d111c8a83">machine</a> = std::unique_ptr&lt;TTAMachine::Machine&gt;(</div>
<div class="line"><span class="lineno">  152</span>            <a class="code hl_function" href="classTTAMachine_1_1Machine.html#ae17291e463eb304b2da96de5e81c1667">TTAMachine::Machine::loadFromADF</a>(machinePath));</div>
<div class="line"><span class="lineno">  153</span>    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classSerializerException.html">SerializerException</a>&amp; e) {</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">if</span> (error != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  155</span>            std::string errorStr =</div>
<div class="line"><span class="lineno">  156</span>                std::string(<span class="stringliteral">&quot;InitializeMachine error: &quot;</span>) + e.<a class="code hl_function" href="classException.html#acacd9a35b999ba1d9c3e1342a580d6a6">errorMessage</a>();</div>
<div class="line"><span class="lineno">  157</span>            *error = strdup(errorStr.c_str());</div>
<div class="line"><span class="lineno">  158</span>        }</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  160</span>    }</div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_class" href="classBinaryEncoding.html">BinaryEncoding</a>* bem = <a class="code hl_class" href="classBEMGenerator.html">BEMGenerator</a>(*machine).<a class="code hl_function" href="classBEMGenerator.html#a00ee62523d424b8ff9ab2707beea9457">generate</a>();</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">if</span> (bem == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  163</span>        *error = strdup(<span class="stringliteral">&quot;InitializeMachine error: failed to generate bem&quot;</span>);</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  165</span>    }</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_function" href="classRISCVTools.html#ab494904b1e34ee06a7206b0025fd1c28">RISCVTools::findCustomOps</a>(<a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a94d3013e26329586eed45877ea2d87ba">RISCVInstructionExecutor::customOps</a>, bem);</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a94d3013e26329586eed45877ea2d87ba">RISCVInstructionExecutor::customOps</a>.empty()) {</div>
<div class="line"><span class="lineno">  169</span>        *error = strdup(</div>
<div class="line"><span class="lineno">  170</span>            <span class="stringliteral">&quot;InitializeMachine error: failed to generate custom ops map&quot;</span>);</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  172</span>    }</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a8999c71c56cd13e599688ab434d21323">RISCVInstructionExecutor::pool</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  175</span>        <a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a8999c71c56cd13e599688ab434d21323">RISCVInstructionExecutor::pool</a> = std::make_unique&lt;OperationPool&gt;();</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <span class="keyword">delete</span> bem;</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  180</span>}</div>
<div class="ttc" id="aEstimatorCmdLineUI_8cc_html_a619b5613ede9a926a1bda52d111c8a83"><div class="ttname"><a href="EstimatorCmdLineUI_8cc.html#a619b5613ede9a926a1bda52d111c8a83">machine</a></div><div class="ttdeci">TTAMachine::Machine * machine</div><div class="ttdoc">the architecture definition of the estimated processor</div><div class="ttdef"><b>Definition</b> <a href="EstimatorCmdLineUI_8cc_source.html#l00059">EstimatorCmdLineUI.cc:59</a></div></div>
<div class="ttc" id="aclassBEMGenerator_html"><div class="ttname"><a href="classBEMGenerator.html">BEMGenerator</a></div><div class="ttdef"><b>Definition</b> <a href="BEMGenerator_8hh_source.html#l00061">BEMGenerator.hh:61</a></div></div>
<div class="ttc" id="aclassBEMGenerator_html_a00ee62523d424b8ff9ab2707beea9457"><div class="ttname"><a href="classBEMGenerator.html#a00ee62523d424b8ff9ab2707beea9457">BEMGenerator::generate</a></div><div class="ttdeci">BinaryEncoding * generate()</div><div class="ttdef"><b>Definition</b> <a href="BEMGenerator_8cc_source.html#l00104">BEMGenerator.cc:104</a></div></div>
<div class="ttc" id="aclassBinaryEncoding_html"><div class="ttname"><a href="classBinaryEncoding.html">BinaryEncoding</a></div><div class="ttdef"><b>Definition</b> <a href="BinaryEncoding_8hh_source.html#l00061">BinaryEncoding.hh:61</a></div></div>
<div class="ttc" id="aclassRISCVTools_html_ab494904b1e34ee06a7206b0025fd1c28"><div class="ttname"><a href="classRISCVTools.html#ab494904b1e34ee06a7206b0025fd1c28">RISCVTools::findCustomOps</a></div><div class="ttdeci">static void findCustomOps(std::map&lt; std::string, int &gt; &amp;customOps_, BinaryEncoding *bem_)</div></div>
<div class="ttc" id="aclassSerializerException_html"><div class="ttname"><a href="classSerializerException.html">SerializerException</a></div><div class="ttdef"><b>Definition</b> <a href="Exception_8hh_source.html#l00675">Exception.hh:675</a></div></div>
<div class="ttc" id="aclassTTAMachine_1_1Machine_html_ae17291e463eb304b2da96de5e81c1667"><div class="ttname"><a href="classTTAMachine_1_1Machine.html#ae17291e463eb304b2da96de5e81c1667">TTAMachine::Machine::loadFromADF</a></div><div class="ttdeci">static Machine * loadFromADF(const std::string &amp;adfFileName)</div><div class="ttdef"><b>Definition</b> <a href="Machine_8cc_source.html#l00899">Machine.cc:899</a></div></div>
<div class="ttc" id="anamespaceRISCVInstructionExecutor_html_a8999c71c56cd13e599688ab434d21323"><div class="ttname"><a href="namespaceRISCVInstructionExecutor.html#a8999c71c56cd13e599688ab434d21323">RISCVInstructionExecutor::pool</a></div><div class="ttdeci">std::unique_ptr&lt; OperationPool &gt; pool</div><div class="ttdef"><b>Definition</b> <a href="RISCVInstructionExecutor_8cc_source.html#l00046">RISCVInstructionExecutor.cc:46</a></div></div>
<div class="ttc" id="anamespaceRISCVInstructionExecutor_html_a94d3013e26329586eed45877ea2d87ba"><div class="ttname"><a href="namespaceRISCVInstructionExecutor.html#a94d3013e26329586eed45877ea2d87ba">RISCVInstructionExecutor::customOps</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; customOps</div><div class="ttdef"><b>Definition</b> <a href="RISCVInstructionExecutor_8cc_source.html#l00045">RISCVInstructionExecutor.cc:45</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00045">RISCVInstructionExecutor::customOps</a>, <a class="el" href="Exception_8cc_source.html#l00123">Exception::errorMessage()</a>, <a class="el" href="classRISCVTools.html#ab494904b1e34ee06a7206b0025fd1c28">RISCVTools::findCustomOps()</a>, <a class="el" href="BEMGenerator_8cc_source.html#l00104">BEMGenerator::generate()</a>, <a class="el" href="Machine_8cc_source.html#l00899">TTAMachine::Machine::loadFromADF()</a>, <a class="el" href="EstimatorCmdLineUI_8cc_source.html#l00059">machine</a>, and <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00046">RISCVInstructionExecutor::pool</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="RISCVInstructionExecutor_8hh_a29ed54b3b13d35ba4ef639e4491670d7_cgraph.gif" border="0" usemap="#aRISCVInstructionExecutor_8hh_a29ed54b3b13d35ba4ef639e4491670d7_cgraph" alt=""/></div>
<map name="aRISCVInstructionExecutor_8hh_a29ed54b3b13d35ba4ef639e4491670d7_cgraph" id="aRISCVInstructionExecutor_8hh_a29ed54b3b13d35ba4ef639e4491670d7_cgraph">
<area shape="rect" title=" " alt="" coords="5,133,139,158"/>
<area shape="rect" href="classException.html#acacd9a35b999ba1d9c3e1342a580d6a6" title=" " alt="" coords="196,58,379,83"/>
<area shape="poly" title=" " alt="" coords="97,130,186,92,211,84,213,89,188,97,100,135"/>
<area shape="rect" href="classRISCVTools.html#ab494904b1e34ee06a7206b0025fd1c28" title=" " alt="" coords="187,107,388,133"/>
<area shape="poly" title=" " alt="" coords="139,135,173,131,174,136,139,140"/>
<area shape="rect" href="classBEMGenerator.html#a00ee62523d424b8ff9ab2707beea9457" title=" " alt="" coords="196,157,379,182"/>
<area shape="poly" title=" " alt="" coords="139,150,182,155,182,160,139,155"/>
<area shape="rect" href="classTTAMachine_1_1Machine.html#ae17291e463eb304b2da96de5e81c1667" title=" " alt="" coords="205,279,369,319"/>
<area shape="poly" title=" " alt="" coords="93,156,249,268,246,273,90,160"/>
<area shape="rect" href="classBEMGenerator.html#a95507c75c2968150c499af1443d80e50" title=" " alt="" coords="436,5,660,45"/>
<area shape="poly" title=" " alt="" coords="365,154,386,142,403,122,410,100,417,77,434,55,442,50,445,54,438,59,421,80,415,102,408,124,390,146,367,159"/>
<area shape="rect" href="classBEMGenerator.html#a1c5ce8adaa7d47045165fc5142c25f3e" title=" " alt="" coords="445,70,651,95"/>
<area shape="poly" title=" " alt="" coords="353,154,387,142,410,124,420,115,435,106,457,97,459,102,437,110,423,119,414,128,389,146,355,159"/>
<area shape="rect" href="classBEMGenerator.html#ab0072cffb48598b675ab02ad44f3e37f" title=" " alt="" coords="445,120,651,160"/>
<area shape="poly" title=" " alt="" coords="379,156,431,150,432,156,379,162"/>
<area shape="rect" href="classBinaryEncoding.html#a61415700744e5ee7bcc62bb250b0640e" title=" " alt="" coords="451,185,645,210"/>
<area shape="poly" title=" " alt="" coords="379,176,438,183,437,188,379,182"/>
<area shape="rect" href="classBinaryEncoding.html#a0b30d624b459a6373599c443b2f7304f" title=" " alt="" coords="708,203,901,243"/>
<area shape="poly" title=" " alt="" coords="317,180,372,201,437,219,503,227,570,231,694,229,694,234,570,236,502,232,435,224,370,206,315,185"/>
<area shape="poly" title=" " alt="" coords="645,204,694,209,694,214,645,210"/>
<area shape="rect" href="classADFSerializer.html#a0817a20a80c2d414154b1edb45f976ff" title=" " alt="" coords="447,286,649,311"/>
<area shape="poly" title=" " alt="" coords="370,296,433,296,433,301,370,301"/>
<area shape="rect" href="classXMLSerializer.html#a5595fc27b26b5a7831a1932a9794593a" title=" " alt="" coords="445,335,651,361"/>
<area shape="poly" title=" " alt="" coords="370,312,467,330,466,335,369,317"/>
</map>
</div>

</div>
</div>
<a id="a8c675938ad593327b8f75b762841f660" name="a8c675938ad593327b8f75b762841f660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c675938ad593327b8f75b762841f660">&#9670;&#160;</a></span>resetMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int resetMachine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the machine to uninitialized state.</p>
<p>Deletes the customOps map loaded and deletes the <a class="el" href="classOperationPool.html">OperationPool</a> instruction cache. </p>

<p class="definition">Definition at line <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00189">189</a> of file <a class="el" href="RISCVInstructionExecutor_8cc_source.html">RISCVInstructionExecutor.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  189</span>               {</div>
<div class="line"><span class="lineno">  190</span>    <a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a94d3013e26329586eed45877ea2d87ba">RISCVInstructionExecutor::customOps</a> = {};</div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a8999c71c56cd13e599688ab434d21323">RISCVInstructionExecutor::pool</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  193</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00045">RISCVInstructionExecutor::customOps</a>, and <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00046">RISCVInstructionExecutor::pool</a>.</p>

</div>
</div>
<a id="ac0d0a4395ea7b5ff1e96320c43827743" name="ac0d0a4395ea7b5ff1e96320c43827743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d0a4395ea7b5ff1e96320c43827743">&#9670;&#160;</a></span>unpackInstruction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unpackInstruction </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instruction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unpacks a RISC-V R4-type instruction and returns its string representation if found from the machine file.</p>
<p>Remember to call Initialize machine first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opcode</td><td>full RISC-V opcode. Register values are ignored. </td></tr>
    <tr><td class="paramname">output</td><td>The char* representation of the opcode, if it is found. Must be freed by the client. </td></tr>
    <tr><td class="paramname">error</td><td>Error messages in case of failure. Must be freed by the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00209">209</a> of file <a class="el" href="RISCVInstructionExecutor_8cc_source.html">RISCVInstructionExecutor.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>                                                                     {</div>
<div class="line"><span class="lineno">  210</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a94d3013e26329586eed45877ea2d87ba">RISCVInstructionExecutor::customOps</a>.empty()) {</div>
<div class="line"><span class="lineno">  211</span>        *error = strdup(</div>
<div class="line"><span class="lineno">  212</span>            <span class="stringliteral">&quot;UnpackInstruction error: customOps map is empty. Did you &quot;</span></div>
<div class="line"><span class="lineno">  213</span>            <span class="stringliteral">&quot;initialize the machine first?&quot;</span>);</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">if</span> (output == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">if</span> (error != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  219</span>            *error =</div>
<div class="line"><span class="lineno">  220</span>                strdup(<span class="stringliteral">&quot;UnpackInstruction error: Output parameter is null&quot;</span>);</div>
<div class="line"><span class="lineno">  221</span>        }</div>
<div class="line"><span class="lineno">  222</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  223</span>    }</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <a class="code hl_struct" href="structR4Instruction.html">R4Instruction</a> decodedInstruction =</div>
<div class="line"><span class="lineno">  226</span>        <a class="code hl_function" href="classRISCVTools.html#a1afbb78c838495153fbeb62e1f33a2ea">RISCVTools::decodeR4Instruction</a>(instruction);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordtype">bool</span> isCustom0 =</div>
<div class="line"><span class="lineno">  229</span>        (decodedInstruction.<a class="code hl_variable" href="structR4Instruction.html#a30d219fb1a76169047cc1c304406ecf4">baseopcode</a> ==</div>
<div class="line"><span class="lineno">  230</span>         <a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a61546c5f50035759c44f0a1dfa60bee8">RISCVInstructionExecutor::OPC_CUSTOM_0</a>);</div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordtype">bool</span> isCustom1 =</div>
<div class="line"><span class="lineno">  232</span>        (decodedInstruction.<a class="code hl_variable" href="structR4Instruction.html#a30d219fb1a76169047cc1c304406ecf4">baseopcode</a> ==</div>
<div class="line"><span class="lineno">  233</span>         <a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#afa5523565671e34900f4ed23e1d16152">RISCVInstructionExecutor::OPC_CUSTOM_1</a>);</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">if</span> (!isCustom0 &amp;&amp; !isCustom1) {</div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">if</span> (error != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  237</span>            *error = strdup(<span class="stringliteral">&quot;UnpackInstruction error: Unknown base opcode&quot;</span>);</div>
<div class="line"><span class="lineno">  238</span>        }</div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  240</span>    }</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>    std::string opName = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; op : <a class="code hl_namespace" href="namespaceRISCVInstructionExecutor.html">RISCVInstructionExecutor</a>::<a class="code hl_variable" href="namespaceRISCVInstructionExecutor.html#a94d3013e26329586eed45877ea2d87ba">customOps</a>) {</div>
<div class="line"><span class="lineno">  244</span>        uint32_t encoding = op.second;</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordtype">bool</span> isMatch = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>        <span class="keywordflow">if</span> (isCustom1 &amp;&amp;</div>
<div class="line"><span class="lineno">  248</span>            <a class="code hl_function" href="classRISCVTools.html#a0a9d84a9cd8ef345026d6f4b6a8836de">RISCVTools::getFunc2Int</a>(encoding) == decodedInstruction.<a class="code hl_variable" href="structR4Instruction.html#a6de8572c52239d2e7d8a39cd9463c25c">funct2</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  249</span>            <a class="code hl_function" href="classRISCVTools.html#aecda4422fcf9e1c17f1dfd574373dc2c">RISCVTools::getFunc3Int</a>(encoding) == decodedInstruction.<a class="code hl_variable" href="structR4Instruction.html#a0fd665c3b624bba5d6184b7966bfb169">funct3</a>) {</div>
<div class="line"><span class="lineno">  250</span>            isMatch = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  251</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  252</span>            isCustom0 &amp;&amp;</div>
<div class="line"><span class="lineno">  253</span>            <a class="code hl_function" href="classRISCVTools.html#a2d3ac9b2085ec9570bac419927aa7459">RISCVTools::getFunc7Int</a>(encoding) == decodedInstruction.<a class="code hl_variable" href="structR4Instruction.html#ab38aa0c23dbdb9a3661caf3b493a954f">funct7</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  254</span>            <a class="code hl_function" href="classRISCVTools.html#aecda4422fcf9e1c17f1dfd574373dc2c">RISCVTools::getFunc3Int</a>(encoding) == decodedInstruction.<a class="code hl_variable" href="structR4Instruction.html#a0fd665c3b624bba5d6184b7966bfb169">funct3</a>) {</div>
<div class="line"><span class="lineno">  255</span>            isMatch = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  256</span>        }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">if</span> (isMatch) {</div>
<div class="line"><span class="lineno">  259</span>            *output = strdup(op.first.c_str());</div>
<div class="line"><span class="lineno">  260</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  261</span>        }</div>
<div class="line"><span class="lineno">  262</span>    }</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">if</span> (error != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  265</span>        *error = strdup(<span class="stringliteral">&quot;UnpackInstruction error: Operation not found&quot;</span>);</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  268</span>}</div>
<div class="ttc" id="aclassRISCVTools_html_a0a9d84a9cd8ef345026d6f4b6a8836de"><div class="ttname"><a href="classRISCVTools.html#a0a9d84a9cd8ef345026d6f4b6a8836de">RISCVTools::getFunc2Int</a></div><div class="ttdeci">static int getFunc2Int(const int encoding)</div></div>
<div class="ttc" id="aclassRISCVTools_html_a1afbb78c838495153fbeb62e1f33a2ea"><div class="ttname"><a href="classRISCVTools.html#a1afbb78c838495153fbeb62e1f33a2ea">RISCVTools::decodeR4Instruction</a></div><div class="ttdeci">static R4Instruction decodeR4Instruction(const uint32_t opcode)</div></div>
<div class="ttc" id="aclassRISCVTools_html_a2d3ac9b2085ec9570bac419927aa7459"><div class="ttname"><a href="classRISCVTools.html#a2d3ac9b2085ec9570bac419927aa7459">RISCVTools::getFunc7Int</a></div><div class="ttdeci">static int getFunc7Int(const int encoding)</div></div>
<div class="ttc" id="aclassRISCVTools_html_aecda4422fcf9e1c17f1dfd574373dc2c"><div class="ttname"><a href="classRISCVTools.html#aecda4422fcf9e1c17f1dfd574373dc2c">RISCVTools::getFunc3Int</a></div><div class="ttdeci">static int getFunc3Int(const int encoding)</div></div>
<div class="ttc" id="anamespaceRISCVInstructionExecutor_html"><div class="ttname"><a href="namespaceRISCVInstructionExecutor.html">RISCVInstructionExecutor</a></div><div class="ttdef"><b>Definition</b> <a href="RISCVInstructionExecutor_8cc_source.html#l00041">RISCVInstructionExecutor.cc:41</a></div></div>
<div class="ttc" id="anamespaceRISCVInstructionExecutor_html_a61546c5f50035759c44f0a1dfa60bee8"><div class="ttname"><a href="namespaceRISCVInstructionExecutor.html#a61546c5f50035759c44f0a1dfa60bee8">RISCVInstructionExecutor::OPC_CUSTOM_0</a></div><div class="ttdeci">constexpr unsigned OPC_CUSTOM_0</div><div class="ttdef"><b>Definition</b> <a href="RISCVInstructionExecutor_8cc_source.html#l00042">RISCVInstructionExecutor.cc:42</a></div></div>
<div class="ttc" id="anamespaceRISCVInstructionExecutor_html_afa5523565671e34900f4ed23e1d16152"><div class="ttname"><a href="namespaceRISCVInstructionExecutor.html#afa5523565671e34900f4ed23e1d16152">RISCVInstructionExecutor::OPC_CUSTOM_1</a></div><div class="ttdeci">constexpr unsigned OPC_CUSTOM_1</div><div class="ttdef"><b>Definition</b> <a href="RISCVInstructionExecutor_8cc_source.html#l00043">RISCVInstructionExecutor.cc:43</a></div></div>
<div class="ttc" id="astructR4Instruction_html"><div class="ttname"><a href="structR4Instruction.html">R4Instruction</a></div><div class="ttdef"><b>Definition</b> <a href="RISCVTools_8hh_source.html#l00035">RISCVTools.hh:35</a></div></div>
<div class="ttc" id="astructR4Instruction_html_a0fd665c3b624bba5d6184b7966bfb169"><div class="ttname"><a href="structR4Instruction.html#a0fd665c3b624bba5d6184b7966bfb169">R4Instruction::funct3</a></div><div class="ttdeci">int funct3</div><div class="ttdef"><b>Definition</b> <a href="RISCVTools_8hh_source.html#l00037">RISCVTools.hh:37</a></div></div>
<div class="ttc" id="astructR4Instruction_html_a30d219fb1a76169047cc1c304406ecf4"><div class="ttname"><a href="structR4Instruction.html#a30d219fb1a76169047cc1c304406ecf4">R4Instruction::baseopcode</a></div><div class="ttdeci">int baseopcode</div><div class="ttdef"><b>Definition</b> <a href="RISCVTools_8hh_source.html#l00036">RISCVTools.hh:36</a></div></div>
<div class="ttc" id="astructR4Instruction_html_a6de8572c52239d2e7d8a39cd9463c25c"><div class="ttname"><a href="structR4Instruction.html#a6de8572c52239d2e7d8a39cd9463c25c">R4Instruction::funct2</a></div><div class="ttdeci">int funct2</div><div class="ttdef"><b>Definition</b> <a href="RISCVTools_8hh_source.html#l00039">RISCVTools.hh:39</a></div></div>
<div class="ttc" id="astructR4Instruction_html_ab38aa0c23dbdb9a3661caf3b493a954f"><div class="ttname"><a href="structR4Instruction.html#ab38aa0c23dbdb9a3661caf3b493a954f">R4Instruction::funct7</a></div><div class="ttdeci">int funct7</div><div class="ttdef"><b>Definition</b> <a href="RISCVTools_8hh_source.html#l00038">RISCVTools.hh:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="RISCVTools_8hh_source.html#l00036">R4Instruction::baseopcode</a>, <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00045">RISCVInstructionExecutor::customOps</a>, <a class="el" href="classRISCVTools.html#a1afbb78c838495153fbeb62e1f33a2ea">RISCVTools::decodeR4Instruction()</a>, <a class="el" href="RISCVTools_8hh_source.html#l00039">R4Instruction::funct2</a>, <a class="el" href="RISCVTools_8hh_source.html#l00037">R4Instruction::funct3</a>, <a class="el" href="RISCVTools_8hh_source.html#l00038">R4Instruction::funct7</a>, <a class="el" href="classRISCVTools.html#a0a9d84a9cd8ef345026d6f4b6a8836de">RISCVTools::getFunc2Int()</a>, <a class="el" href="classRISCVTools.html#aecda4422fcf9e1c17f1dfd574373dc2c">RISCVTools::getFunc3Int()</a>, <a class="el" href="classRISCVTools.html#a2d3ac9b2085ec9570bac419927aa7459">RISCVTools::getFunc7Int()</a>, <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00042">RISCVInstructionExecutor::OPC_CUSTOM_0</a>, and <a class="el" href="RISCVInstructionExecutor_8cc_source.html#l00043">RISCVInstructionExecutor::OPC_CUSTOM_1</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="RISCVInstructionExecutor_8hh_ac0d0a4395ea7b5ff1e96320c43827743_cgraph.gif" border="0" usemap="#aRISCVInstructionExecutor_8hh_ac0d0a4395ea7b5ff1e96320c43827743_cgraph" alt=""/></div>
<map name="aRISCVInstructionExecutor_8hh_ac0d0a4395ea7b5ff1e96320c43827743_cgraph" id="aRISCVInstructionExecutor_8hh_ac0d0a4395ea7b5ff1e96320c43827743_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,144,105"/>
<area shape="rect" href="classRISCVTools.html#a1afbb78c838495153fbeb62e1f33a2ea" title=" " alt="" coords="192,5,427,31"/>
<area shape="poly" title=" " alt="" coords="100,77,142,58,191,39,221,31,222,36,193,45,144,63,102,82"/>
<area shape="rect" href="classRISCVTools.html#a0a9d84a9cd8ef345026d6f4b6a8836de" title=" " alt="" coords="220,55,399,80"/>
<area shape="poly" title=" " alt="" coords="144,83,206,76,207,81,145,88"/>
<area shape="rect" href="classRISCVTools.html#aecda4422fcf9e1c17f1dfd574373dc2c" title=" " alt="" coords="220,104,399,129"/>
<area shape="poly" title=" " alt="" coords="145,97,207,103,206,109,144,102"/>
<area shape="rect" href="classRISCVTools.html#a2d3ac9b2085ec9570bac419927aa7459" title=" " alt="" coords="220,153,399,179"/>
<area shape="poly" title=" " alt="" coords="104,103,193,138,228,148,226,153,191,143,102,108"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
